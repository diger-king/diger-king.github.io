---

title: Operating System 프로세스와 스레드 
layout: post
description: Process and Thread
post-image: https://www.cs.miami.edu/home/visser/Courses/CSC322-09S/Content/UNIXProgramming/Threads.JPG

tags:
- Operating System
- Process
- Thread

---

[참고자료-1](https://www.tutorialspoint.com/difference-between-process-and-thread)

[참고자료-2](https://iamkdh.tistory.com/83)

---

# Process

## 정의
> 프로세스는, 현재 실행중인 프로그램을 가리킨다.
> 
> HDD에 있던 프로그램이 메모리로 올라오면서 운영체제에게 PCB(Process Control Block) 를 할당 받는다. 

<br>

> **PCB의 첫 번째 블록에 저장되는 것**
>
> **포인터**
 
<br>

> **PCB의 두 번째 블록에 저장되는 것**
>
> **프로세스 상태**

<br>

> **PCB의 나머지 요소**
>
> 프로세스 구분자
>
> 프로그램 카운터
>
> 프로세스 우선순위
>
> 레지스터 정보
>
> 메모리 정보
>
> 할당 자원 정보
>
> 계정 정보
>
> PPID, CPID

<br>

> **프로세스 구조**
>
> 코드 영역, 데이터 영역, 힙 영역, 스택 영역

<br>

> 프로세스에서 프로그램 본문이 기술된 영역
> 
> --> **코드 영역**

> 프로세스에서 코드가 전역변수, 정적변수 가 저장되어있는 영역
>
> --> **데이터 영역**
 
> 프로세스에서 프로세스 실행을 위한 부수적인 데이터를 모아놓은 영역
>
> --> **스택 영역**


## 문맥교환 소요 시간
> 프로세스는, 스레드에 비해 더 무거운 단위이므로, 문맥교환에 소요되는 시간이 더 길다.

<br>

### 문맥교환이란?

> CPU는 동시에 여러 프로세스를 다룰 수 없고, 처리를 할때, 특정 프로세스에서 다른 프로세스로 순회하듯이 처리 하는 흐름을 가진다.
> 
> 이때 특정 프로세스에서 다른 프로세스로 넘어가는 과정을 문맥교환이라고 한다.

    실행 상태에서 나가는 프로세스의 PCB에는 지금까지의 작업 내용을 저장하고

    실행 상태로 들어오는 프로세스의 PCB내용으로 CPU가 다시 세팅된다.

## 메모리 공유

> 프로세스는 메모리 측면에서 완전히 독립적이다. --> 메모리마다 별도로 프로세스를 배치한다. 


## 소통 방식
> 프로세스 간 통신 또한 스레드간 통신에 비해 더 많은 시간이 소요된다.
> 
> --> 프로레스는 통신할 수 있는 별도의 공간이 없기 때문에, 그 공간을 만들어 줘야한다.

<br>

> 공유 메모리
> 
> 파이프
> 
> 소켓
> 
> 메시지 큐
> 
> 메모리 맵

> 등의 방법이 있다.

## 소통 방식 - 세부

### 1. 프로세스 내부 데이터 통신

           하나의 프로세스 내에 2개 이상의 스레드가 존재하는 경우의 통신이다.

           스레드는 전역변수, 파일을 이용하여 데이터를 주고 받는다.

### 2. 프로세스 간 데이터 통신

           여러 프로세스끼리 통신하는 경우로, 공용 파일 또는 운영체제가 제공하는 파이프를 사용

### 3. 네트워크를 이용한 데이터 통신

           여러 컴퓨터간의 프로세스 통신으로 소켓을 이용하여 데이터를 주고받는다.

### 4. 통신 방향에 따른 통신 분류

           양방향 통신 : 동시에 양쪽 방향으로 데이터를 전송할 수 있다.

           반양방향 통신 : 양쪽 방향으로 데이터를 전송할 수 있지만 동시에는 불가능하다.

           단방향 통신 : 한쪽으로만 데이터를 전송할 수 있다.

### 5. 대부분의 통신은 양방향 통신이지만, 전역 변수는 단방향 통신이다.

           따라서 양방향 통신을 구현하려면 전역 변수를 2개 사용해야한다.

### 6. 수신 측에서, 전역 변수의 값을 반복적으로 점검하는 행위

           바쁜 대기

### 7. 바쁜 대기 문제를 해결하기 위해 데이터가 도착했음을 알려주는 요소

           동기화

### 8. 프로세스 간 통신 중에서, 동기화 기능의 유무로 나누어지는 통신의 종류

           동기화 기능 보유 = 대기가 있는 통신 = 동기화 통신

           동기화 기능 없음 = 대기가 없는 통신 = 비동기화 통신

### 9. 동기화 기능을 가진 대기가 있는 통신

           데이터를 받는 쪽은 데이터가 도착할 때 까지 자동으로 대기 상태에 머물러 있다.

           - 동기화로 데이터 수신을 자동 확인하기 때문

### 10. 동기화 기능을 갖지 않은 대기가 없는 통신

            데이터를 반는 쪽은 바쁜 대기를 사용하여 데이터 도착 여부를 수시로 판단한다.

### 11. 대기가 있는 통신과, 대기가 없는 통신의 예시

           - 대기가 있는 통신 

                      파이프, 소켓

           - 대기가 없는 통신

                      전역변수, 파일



### 12. 공동으로 관리하는 메모리를 사용하여 데이터를 주고받는 통신

           전역 변수 통신 (대기가 없는 통신 = 바쁜 대기 사용)

### 13. 전역 변수 통신(대기가 없는 통신 = 바쁜 대기 사용)의 과정

           1. 데이터를 보내는 쪽에서 전역 변수나 파일에 값을 쓴다.

           2. 데이터를 받는 쪽에서 전역 변수의 값을 읽는다.

           ex) 부모 프로세스가 전역 변수를 선언한 후, 자식 프로세스를 만들면 부모-자식 통신 가능

### 14. 파일을 이용한 통신(대기가 없는 통신 = 바쁜 대기 사용)의 과정

           파일 열기 -> 파일 읽기/쓰기 -> 파일 닫기

### 15. 파일을 이용한 통신에 대한 특징

           부모-자식 프로세스 간 통신에 많이 사용되고, 동기화가 사용되지 않는다.

           이때 부모 프로세스가 wait()함수를 이용하여 자식 프로세스의 작업이 끝날 때까지 대기함

### 16. 파이프를 이용한 통신(대기가 있는 통신 = 동기화 사용)

           파이프는 운영체제가 제공하는 동기화 통신 방식으로써

           전역 변수를 이용한 양방향 통신처럼 파이프를 2개 두어야 양방향 통신이 가능한다.

### 17. 부모-자식 프로세스 혹은 서로 관련있는 프로세스끼리 통신에 사용되는 것

            이름 없는 파이프(일반적인 파이프)

### 18. FIFO라 불리는 특수 파일을 이용하여 서로 관련 없는 프로세스 간 통신에 사용

            이름 있는 파이프

### 19. 소켓을 이용한 통신(대기가 있는 통신 = 동기화 사용)

           다른 컴퓨터에 있는 프로세스 끼리 원격 프로시저 호출이나 소켓을 이용하여 통신하는 것

### 20. 동기화를 지원하는 통신 방법

           파이프 통신, 소켓 통신

### 21. 동기화를 지원하지 않는 통신 방법

           전역 변수, 파일

### 22. 통신 간에 open(), close() 함수를 호출하는 통신 방법과 그렇지 않은 방법

        open(), close()를 사용하는 통신 : 파일, 파이프, 소켓

        open(), close()를 사용하지 않는 통신 : 전역 변수

### 23. 여러 프로세스가 공동으로 이용하는 변수, 메모리, 파일 등을 가리키는 것

           공유 자원

---
